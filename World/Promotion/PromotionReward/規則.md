# 規則文件

## 目錄
1. [適用商品](#1-適用商品)

<br>

---

## 1. 適用商品

### 1.1 TargetType 判斷表格

| TargetType | ExcludeTargetType | 說明 |
|------------|-------------------|------|
| Shop | None | 全店活動 / 不排除 |
| Shop | SalePage | 全店活動 / 有排除 |
| SalePage | None | 指定商品或料號 |

<br>

### 1.2 設定ProductScopes 跑進來的 Collection 長相

![alt text](./image-3.png)

<br>

### 1.3 門市

**TargetLocationTypeDef**

<br>

- 所有門市 (All)：All
- 指定門市 (Location)：Location

<br>

**IncludeTargetLocationIdList**

<br>

- 所有 (All)：[] (空陣列)
- 指定門市 (Location)：門市 Ids

<br>

**PromotionTargetLocationTypeDefEnum**

<br>

- 所有門市 = All
- 指定門市 = Location

<br>

**PromotionEngine**

<br>

PromotionEngine_TargetLocationTypeDef：活動門市類型

<br>

**PromotionTag**

<br>

PromotionTagId：每個 LocationId 對應一個 PromotionTagSlave_TargetTypeId = targetId

<br>

**Rule**

<br>

includedLocationScopes

<br>

- TargetLocationType = All → LocationScopeType = AllLocationScope
- TargetLocationType = Location → TagLocationScope = LocationScopeType + TagId

<br>